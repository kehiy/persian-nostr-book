
# نیپ شماره 40

## مهر انقضا

`پیش نویس` ‍‍`دلبخواهی`

برچسب expiration به کاربر ها اجازه میدهد تا یک تایم استمپ تونیکس مشخص کنند که در ان رویداد باید منقضی شده در نظر گرفته شود (توسط رله ها و کلاینت ها) و رله ها باید آن را پاک کنند.


### مشخصات

```
tag: expiration
values:
 - [UNIX timestamp in seconds]: required
```

### نمونه

```json
{
  "pubkey": "<pub-key>",
  "created_at": 1000000000,
  "kind": 1,
  "tags": [
    ["expiration", "1600000000"]
  ],
  "content": "This message will expire at the specified timestamp and be deleted by relays.\n",
  "id": "<event-id>"
}
```

یادداشت: تایم استمپ باید فرمتی مشابه با فیلد created_at داشته باشد. و باید به عنوان زمانی که رله ها باید رویداد را پاک کنند تفسیر شود.

### رفتار کلاینت ها

کلاینت ها باید از فیلد supportes_nips در مستندات نیپ ۱۱ استفاده کنند تا بدانند یک رله از نیپ پشتیبانی میکند یا نه. کلاینت ها نباید این رویداد را به رله هایی که از این نیپ پشتیبانی نمی کنند بفرستند.

کلاینت ها باید رویداد های منقضی شده را نادیده بگیرند.

### رفتار رله ها

رله ها ممکن است پیام های منقضی شده را بلافاصله پس از انقضا پاک نکنند و ممکن است آنها را برای مدت نامحدودی نگهداری کنند. رله ها نباید رویدادهای منقضی شده را برای کلاینت بفرستند، حتی اگر نگهداری شده باشند. رله‌ها باید هر رویدادی را که برایشان فرستاده می‌شود، در صورتی که منقضی شده است، رها کنند. مهر انقضا تاثیری روی نگهداری از رویداد های گذرموقت ندارد.

### کاربرد های پیشنهادی

* اعلان های موقت - از این برچسب می توان برای ایجاد اعلان های موقت استفاده کرد. برای مثال، یک برگزار کننده رویداد می‌تواند از این برچسب برای ارسال اطلاعیه‌های مربوط به یک رویداد آینده استفاده کند.

* پیشنهادات با زمان محدود - این برچسب می تواند توسط مشاغل برای ارائه پیشنهادات با زمان محدود استفاده شود که پس از مدت زمان مشخصی منقضی می شود. برای نمونه، یک کسب و کار می تواند از این برچسب برای ارائه یک پیشنهاد ویژه استفاده کند که فقط برای مدت محدودی در دسترس است.

### هشدار

رویدادها می توانند توسط اشخاص ثالث بارگیری شوند زیرا همیشه در رله ها در دسترس عموم هستند. بنابراین پیام های در حال انقضا را به عنوان یک ویژگی امنیتی برای مکالمات یا سایر موارد استفاده نکنید.




